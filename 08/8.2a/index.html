<!DOCTYPE html>
<html>

    <head>
        <meta charset='utf-8'>
        <meta name='viewport' content='width=device-width,initial-scale=1'>
        <title>8.2a スマホでLチカ</title>
    </head>

    <body>
        <!-- ONボタン -->
        <input type='button' id='btnOn' value='つける'>
        <!-- OFFボタン -->
        <input type='button' id='btnOff' value='けす'>

        <!-- 双方向通信（socket通信）のためのsocket.ioライブラリの読み込み -->
        <script src='/socket.io/socket.io.js'></script>

        <script>

            const socket = io();    // 双方向通信用のサーバに接続

            const btnOn = document.getElementById('btnOn');     // ボタンを取得
            const btnOff = document.getElementById('btnOff');   // ボタンを取得
            btnOn.addEventListener('click', ledOn);             // btnOnのイベント
            btnOff.addEventListener('click', ledOff);           // btnOffのイベント

            function ledOn() {      // ONボタンがクリックされた時の処理
                socket.emit('on');  // 'on'というイベント名のソケットを送る
            }
            function ledOff() {     // OFFボタンがクリックされた時の処理
                socket.emit('off'); // 'off'というイベント名のソケットを送る
            }
        </script>
    </body>
</html>